%YAML 1.1
---
$schema: asdf://stsci.edu/datamodels/roman/schemas/rad_schema-1.0.0
id: asdf://stsci.edu/datamodels/roman/schemas/meta/l3_wcsinfo-1.0.0

title: WCS Information
type: object
properties:
  ra_ref:
    title: Right Ascension of Projection Region Center (deg)
    description: >
      Right ascension in units of degrees at the center of
      the projection region over which the world coordinate system
      (WCS) of this image is defined. If this product does not use the
      Roman sky tessellation, then this keyword will be equal to
      meta.wcsinfo.ra.
    type: number
    archive_catalog:
      datatype: float
      destination: [WFIMosaic.ra_ref]
  dec_ref:
    title: Declination of Projection Region Center (deg)
    description: >
      Declination in units of degrees at the center of the
      projection region over which the world coordinate system (WCS)
      of this image is defined. If this product does not use the Roman
      sky tessellation, then this keyword will be equal to
      meta.wcsinfo.dec.
    type: number
    archive_catalog:
      datatype: float
      destination: [WFIMosaic.dec_ref]
  x_ref:
    title: X Coordinate of Projection Region Center
    description: >
      Pixel X coordinate at the center of the projection
      region over which the world coordinate system (WCS) of this
      image is defined. If the projection region is larger than the
      image contained within this file, then the value of x_ref may or
      may not be contained within the boundaries of the data array in
      this file.
    type: number
    archive_catalog:
      datatype: float
      destination: [WFIMosaic.x_ref]
  y_ref:
    title: Y Coordinate of Projection Region Center
    description: >
      Pixel Y coordinate at the center of the projection
      region over which the world coordinate system (WCS) of this
      image is defined. If the projection region is larger than the
      image contained within this file, then the value of y_ref may or
      may not be contained within the boundaries of the data array in
      this file.
    type: number
    archive_catalog:
      datatype: float
      destination: [WFIMosaic.y_ref]
  pixel_scale_ref:
    title: Pixel Scale at Projection Region Center (arcseconds per pixel)
    description: >
      Pixel scale in units of arcseconds per pixel at the
      center of the projection region. If this product does not use
      the Roman sky tessellation, then this keyword will be equal to
      meta.wcsinfo.pixel_scale.
    type: number
    archive_catalog:
      datatype: float
      destination: [WFIMosaic.pixel_scale_ref]
  pixel_scale:
    title: Pixel Scale at Image Center (arcseconds per pixel)
    description: >
      Pixel scale in units of arcseconds per pixel at the center of the image in this file.
    type: number
    archive_catalog:
      datatype: float
      destination: [WFIMosaic.pixel_scale]
  projection:
    title: Projection Type
    description: >
      Type of projection used for the world coordinate
      system (WCS). A value of "TAN" indicates a tangent plane projection.
    type: string
    enum: ["TAN"]
    archive_catalog:
      datatype: nvarchar(50)
      destination: [WFIMosaic.projection]
  s_region:
    title: Spatial Extent of the Image
    description: >
      The region of the sky enclosed by the pixel data
      contained within this file. This is given as a polygon stored as
      a string with the vertices defined by a list of right ascension
      and declination pairs in units of degrees.
    type: string
    archive_catalog:
      datatype: nvarchar(max)
      destination: [WFIMosaic.s_region]
  image_shape:
    title: Shape of Image (pixels)
    description: Shape of the image (nx, ny) in units of pixels.
    type: array
    minItems: 2
    maxItems: 2
    items:
      type: integer
    archive_catalog:
      datatype: nvarchar(50)
      destination: [WFIMosaic.image_shape]
  ra:
    title: Right Ascension of Image Center (deg)
    description: Right ascension in units of degrees at the center of the image.
    type: number
    archive_catalog:
      datatype: float
      destination: [WFIMosaic.ra]
  dec:
    title: Declination of Image Center (deg)
    description: Declination in units of degrees at the center of the image.
    type: number
    archive_catalog:
      datatype: float
      destination: [WFIMosaic.dec]
  orientation:
    title: Image Orientation (deg)
    description: >
      Angle in units of degrees between celestial North and
      the image y-axis at the center of the image turning positive in
      the direction of increasing right ascension.
    type: number
    archive_catalog:
      datatype: float
      destination: [WFIMosaic.orientation]
  orientation_ref:
    title: Projection Region Orientation (deg)
    description: >
      Angle in units of degrees between celestial North and
      the image y-axis at the center of the projection region turning
      positive in the direction of increasing right ascension. If this
      product does not use the Roman sky tessellation, then this
      keyword will be equal to meta.wcsinfo.orientation.
    type: number
    archive_catalog:
      datatype: float
      destination: [WFIMosaic.orientation_ref]
  skycell_name:
    title: Skycell Name
    description: >
      Name of the skycell in the Roman sky tessellation to
      which this product corresponds. If this product is not a skycell
      product, this field will be None.
    anyOf:
      - type: string
        maxLength: 30
      - type: "null"
    archive_catalog:
      datatype: nvarchar(30)
      destination: [WFIMosaic.skycell_name]
  rotation_matrix:
    title: 2x2 rotation matrix
    type: array
    items:
      type: array
      items:
        type: number
    sdf:
      special_processing: VALUE_REQUIRED
      source:
        origin: TBD
    archive_catalog:
      datatype: nvarchar(3500)
      destination: [WFIMosaic.rotation_matrix]
required:
  [
    ra_ref,
    dec_ref,
    x_ref,
    y_ref,
    pixel_scale_ref,
    pixel_scale,
    projection,
    s_region,
    image_shape,
    ra,
    dec,
    orientation,
    orientation_ref,
    skycell_name,
    rotation_matrix,
  ]
