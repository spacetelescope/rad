%YAML 1.1
---
$schema: asdf://stsci.edu/datamodels/roman/schemas/rad_schema-1.0.0
id: asdf://stsci.edu/datamodels/roman/schemas/reference_files/dark-1.5.0

title: Dark Reference File Schema

datamodel_name: DarkRefModel

type: object
properties:
  meta:
    allOf:
      - $ref: asdf://stsci.edu/datamodels/roman/schemas/reference_files/ref_common-1.2.0
      - type: object
        properties:
          reftype:
            type: string
            enum: [DARK]
      - $ref: asdf://stsci.edu/datamodels/roman/schemas/reference_files/ref_exposure_type-1.3.0
      - $ref: asdf://stsci.edu/datamodels/roman/schemas/reference_files/ref_optical_element-1.3.0
  dq:
    title: 2-D Data Quality Array
    description: |
      The 2-D data quality array for the Dark Current Array.
    tag: tag:stsci.edu:asdf/core/ndarray-1.*
    datatype: uint32
    exact_datatype: true
    ndim: 2
  dark_slope:
    title: Dark Current Rate Array
    description: |
      The dark current rate array represents the slope of the integrated number
      of counts due to the accumulation of dark current electrons in the pixels
      calculated from slope fitting the Dark Current Array.
    tag: tag:stsci.edu:asdf/core/ndarray-1.*
    datatype: float32
    exact_datatype: true
    ndim: 2
    unit: DN / s
  dark_slope_error:
    title: Dark Current Rate Uncertainty Array
    description: |
      The uncertainty calculated from the slope fitting of the Dark Current
      Array.
    tag: tag:stsci.edu:asdf/core/ndarray-1.*
    datatype: float32
    exact_datatype: true
    ndim: 2
    unit: DN / s
required: [meta, dq, dark_slope, dark_slope_error]
flowStyle: block
propertyOrder: [meta, dq, dark_slope, dark_slope_error]
