%YAML 1.1
---
$schema: asdf://stsci.edu/datamodels/roman/schemas/rad_schema-1.0.0
id: asdf://stsci.edu/datamodels/roman/schemas/forced_catalog_table-1.0.0

title: Forced source catalog table schema

type: object
properties:
  columns:
    allOf:
      - not:
          items:
            not:
              description: Bit flag encoding the overlap flag , projection, skycell and pixel coordinates of the source
              unit: none
              properties:
                name:
                  pattern: ^flagged_spatial_index$
                data:
                  properties:
                    datatype:
                      enum: [int64]
      - not:
          items:
            not:
              description: Column index of the right edge of the source bounding box (0 indexed)
              unit: none
              properties:
                name:
                  pattern: ^bbox_xmax$
                data:
                  properties:
                    datatype:
                      enum: [int32]
      - not:
          items:
            not:
              description: Column index of the left edge of the source bounding box (0 indexed)
              unit: none
              properties:
                name:
                  pattern: ^bbox_xmin$
                data:
                  properties:
                    datatype:
                      enum: [int32]
      - not:
          items:
            not:
              description: Row index of the top edge of the source bounding box (0 indexed)
              unit: none
              properties:
                name:
                  pattern: ^bbox_ymax$
                data:
                  properties:
                    datatype:
                      enum: [int32]
      - not:
          items:
            not:
              description: Row index of the bottom edge of the source bounding box (0 indexed)
              unit: none
              properties:
                name:
                  pattern: ^bbox_ymin$
                data:
                  properties:
                    datatype:
                      enum: [int32]
      - not:
          items:
            not:
              description: Image quality bit flags (0=good)
              unit: none
              properties:
                name:
                  pattern: ^image_flags$
                data:
                  properties:
                    datatype:
                      enum: [int32]
      - not:
          items:
            not:
              description: Label of the source segment in the segmentation image
              unit: none
              properties:
                name:
                  pattern: ^label$
                data:
                  properties:
                    datatype:
                      enum: [int32]
      - not:
          items:
            not:
              description: Area of the source segment
              unit: arcsec^2
              properties:
                name:
                  pattern: ^segment_area$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Best estimate of the declination (ICRS)
              unit: deg (decimal)
              properties:
                name:
                  pattern: ^forced_dec$
                data:
                  properties:
                    datatype:
                      enum: [float64]
      - not:
          items:
            not:
              description: Declination of the source centroid (ICRS)
              unit: deg (decimal)
              properties:
                name:
                  pattern: ^dec_centroid$
                data:
                  properties:
                    datatype:
                      enum: [float64]
      - not:
          items:
            not:
              description: Uncertainty in dec_centroid
              unit: arcsec
              properties:
                name:
                  pattern: ^dec_centroid_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Declination (ICRS) of the windowed source centroid
              unit: deg (decimal)
              properties:
                name:
                  pattern: ^dec_centroid_win$
                data:
                  properties:
                    datatype:
                      enum: [float64]
      - not:
          items:
            not:
              description: Uncertainty in dec_centroid_win
              unit: arcsec
              properties:
                name:
                  pattern: ^dec_centroid_win_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Best estimate of the right ascension (ICRS)
              unit: deg (decimal)
              properties:
                name:
                  pattern: ^ra$
                data:
                  properties:
                    datatype:
                      enum: [float64]
      - not:
          items:
            not:
              description: Right ascension (ICRS) of the source centroid
              unit: deg (decimal)
              properties:
                name:
                  pattern: ^ra_centroid$
                data:
                  properties:
                    datatype:
                      enum: [float64]
      - not:
          items:
            not:
              description: Uncertainty in ra_centroid
              unit: arcsec
              properties:
                name:
                  pattern: ^ra_centroid_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Right ascension (ICRS) of the windowed source centroid
              unit: deg (decimal)
              properties:
                name:
                  pattern: ^ra_centroid_win$
                data:
                  properties:
                    datatype:
                      enum: [float64]
      - not:
          items:
            not:
              description: Uncertainty in ra_centroid_win
              unit: arcsec
              properties:
                name:
                  pattern: ^ra_centroid_win_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Column coordinate of the source centroid from image moments (0 indexed)
              unit: pix
              properties:
                name:
                  pattern: ^x_centroid$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Uncertainty x_centroid
              unit: pix
              properties:
                name:
                  pattern: ^x_centroid_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Column coordinate of the windowed source centroid in the detection image from image moments (0 indexed)
              unit: pix
              properties:
                name:
                  pattern: ^x_centroid_win$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Uncertainty on x_centroid_win
              unit: pix
              properties:
                name:
                  pattern: ^x_centroid_win_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Row coordinate of the source centroid in the detection image from image moments (0 indexed)
              unit: pix
              properties:
                name:
                  pattern: ^y_centroid$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Uncertainty on y_centroid
              unit: pix
              properties:
                name:
                  pattern: ^y_centroid_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Row coordinate of the windowed source centroid in the detection image from image moments (0 indexed)
              unit: pix
              properties:
                name:
                  pattern: ^y_centroid_win$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Uncertainty on y_centroid_win
              unit: pix
              properties:
                name:
                  pattern: ^y_centroid_win_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Local background estimated within a circular annulus
              unit: nJy arcsec-2
              properties:
                name:
                  pattern: ^forced_aper_bkg_flux$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Uncertainty in aper_bkg_flux
              unit: nJy
              properties:
                name:
                  pattern: ^forced_aper_bkg_flux_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Flux within circular aperture (radius in tenths of arcsec)
              unit: nJy
              properties:
                name:
                  pattern: ^forced_aper[0-9]{2}_flux$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Uncertainty in flux within circular aperture
              unit: nJy
              properties:
                name:
                  pattern: ^forced_aper[0-9]{2}_flux_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: AB magnitude within the elliptical Kron aperture
              unit: mag(AB)
              properties:
                name:
                  pattern: ^forced_kron_abmag$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Uncertainty in kron_abmag
              unit: mag(AB)
              properties:
                name:
                  pattern: ^forced_kron_abmag_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Flux within the elliptical Kron aperture
              unit: nJy
              properties:
                name:
                  pattern: ^forced_kron_flux$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Uncertainty in kron_<band>_flux_err
              unit: nJy
              properties:
                name:
                  pattern: ^forced_kron_flux_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Isophotal flux
              unit: nJy
              properties:
                name:
                  pattern: ^forced_segment_flux$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Uncertainty in segment_flux
              unit: nJy
              properties:
                name:
                  pattern: ^forced_segment_flux_err$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Warning bit flags (0=good)
              unit: none
              properties:
                name:
                  pattern: ^forced_warning_flags$
                data:
                  properties:
                    datatype:
                      enum: [int32]
      - not:
          items:
            not:
              description: Coefficient for the x**2 term in the generalized quadratic ellipse equation
              unit: 1/arcsec2
              properties:
                name:
                  pattern: ^cxx$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Coefficient for the x*y term in the generalized quadratic ellipse equation
              unit: 1/arcsec2
              properties:
                name:
                  pattern: ^cxy$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Coefficient for the y**2 term in the generalized quadratic ellipse equation
              unit: 1/arcsec2
              properties:
                name:
                  pattern: ^cyy$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Source ellipticity as 1 - (semimajor / semiminor)
              unit: none
              properties:
                name:
                  pattern: ^ellipticity$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Radius of a circle centered on the source centroid that encloses 50% of the Kron flux
              unit: arcsec
              properties:
                name:
                  pattern: ^forced_fluxfrac_radius_50$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Flag indicating that the source appears to be more extended than a point source
              unit: none
              properties:
                name:
                  pattern: ^forced_is_extended$
                data:
                  properties:
                    datatype:
                      enum: [bool8]
      - not:
          items:
            not:
              description: Circularized full width at half maximum (FWHM) calculated from the semimajor and semiminor axes as 2*sqrt(ln(2) * (semimajor**2 + semiminor**2))
              unit: arcsec
              properties:
                name:
                  pattern: ^fwhm$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: First-moment radius measured in the detection image.
              unit: arcsec
              properties:
                name:
                  pattern: ^kron_radius$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Angle measured counter-clockwise from the positive X axis to the source major axis computed from image moments
              unit: deg
              properties:
                name:
                  pattern: ^orientation_pix$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Position angle from North of the source major axis computed from image moments
              unit: deg
              properties:
                name:
                  pattern: ^orientation_sky$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Photutils DAOFinder roundness1 statistic
              unit: none
              properties:
                name:
                  pattern: ^forced_roundness1$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Length of the source semiminor axis computed from image moments
              unit: arcsec
              properties:
                name:
                  pattern: ^semimajor$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Length of the source semimajor axis computed from image moments
              unit: arcsec
              properties:
                name:
                  pattern: ^semiminor$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Photutils DAOFinder sharpness statistic
              unit: none
              properties:
                name:
                  pattern: ^forced_sharpness$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Distance to the nearest neighbor in this skycell
              unit: arcsec
              properties:
                name:
                  pattern: ^nn_distance$
                data:
                  properties:
                    datatype:
                      enum: [float32]
      - not:
          items:
            not:
              description: Segment label of the nearest neighbor in this skycell
              unit: none
              properties:
                name:
                  pattern: ^nn_label$
                data:
                  properties:
                    datatype:
                      enum: [int32]
