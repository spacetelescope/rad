%YAML 1.1
---
$schema: asdf://stsci.edu/datamodels/roman/schemas/rad_schema-1.0.0
id: asdf://stsci.edu/datamodels/roman/schemas/SSC/MSOS/keywords/msos_common-1.0.0

title: Common MSOS Keyword
extName: SSC

type: object
properties:
  instrume:
    title: Instrument
    description: Instrument used
    type: string
    maxLength: 8
    archive_catalog:
      datatype: nvarchar(8)
      destination:
        [WFIReferenceFrame.instrument_name, MSOSCatalog.instrument_name]
  # The following fields are NOT required, but they would be nice to have as explicitly specified values to fill in for our cross-mission search. If not relevant or not provided these will just be null values at MAST.
  detector: # SOC Proposed
    title: Detector
    description: The WFI detector name
    type: string
    maxLength: 16
    archive_catalog:
      datatype: nvarchar(16)
      destination: [WFIReferenceFrame.detector, MSOSCatalog.detector]
  aperture: # SOC Proposed
    title: Aperture
    description: The WFI aperture name
    type: string
    maxLength: 16
    archive_catalog:
      datatype: nvarchar(16)
      destination: [WFIReferenceFrame.aperture, MSOSCatalog.aperture]
  calver: # SOC Proposed
    title: Calibration Version
    description: The version of the calibration software used
    type: string
    maxLength: 16
    archive_catalog:
      datatype: nvarchar(16)
      destination:
        [
          WFIReferenceFrame.calibration_software_version,
          MSOSCatalog.calibration_software_version,
        ]
  optical_element:
    allOf:
      - $ref: asdf://stsci.edu/datamodels/roman/schemas/wfi_optical_element-1.2.0
    title: Wide Field Instrument (WFI) Optical Element
    description: |
      Name of the optical element used to take the science
      data.
    archive_catalog:
      datatype: nvarchar(20)
      destination:
        [WFIReferenceFrame.optical_element, MSOSCatalog.optical_element]

required: [instrume, detector, aperture, calver, optical_element]
