%YAML 1.1
---
$schema: asdf://stsci.edu/datamodels/roman/schemas/rad_schema-1.0.0
id: asdf://stsci.edu/datamodels/roman/schemas/SSC/CGI/keywords/cgi_exposure-1.0.0

title: Exposure Information
extName: SSC

type: object
properties:
  EXPTIME:
    title: Exposure Time
    description: Exposing stage duration (seconds)
    type: number
    archive_catalog:
      datatype: float
      destination: [CGIExposure.exposure_time, CGIMosaic.exposure_time]
  EMGAIN_C:
    title: Commanded EM gain
    description: Commanded EM gain
    type: number
    archive_catalog:
      datatype: float
      destination: [CGIExposure.emgain_c]
  EMGAIN_A:
    title: Actual EM gain
    description: Actual EM gain
    type: number
    archive_catalog:
      datatype: float
      destination: [CGIExposure.emgain_a]
  KGAINPAR:
    title: Scaling factor convert DN to electrons (e-/DN)
    description: Scaling factor convert DN to electrons (e-/DN)
    type: number
    archive_catalog:
      datatype: float
      destination: [CGIExposure.kgainpar]
  CYCLES:
    title: EXCAM clock cycles since boot
    description: EXCAM clock cycles since boot (clock cycles)
    type: integer
    archive_catalog:
      datatype: int
      destination: [CGIExposure.cycles]
  ISPC:
    title: Photon counting flag
    description: Photon counting flag
    type: boolean
    archive_catalog:
      datatype: nchar(1)
      destination: [CGIExposure.ispc]
  FTIMEUTC:
    title: Frame date/time at readout
    description: Frame date/time at readout (s)
    allOf:
      - $ref: http://stsci.edu/schemas/asdf/time/time-1.3.0#/definitions/iso_time
    archive_catalog:
      datatype: datetime2
      destination: [CGIExposure.ftimeutc]
  ARRTYPE:
    title: Type of detector readout
    description: Type of detector readout; SCI=2200x1200 pixels, ENG=2200x2200 pixels
    type: string
    maxLength: 4
    enum:
      - SCI
      - ENG
    archive_catalog:
      datatype: nvarchar(4)
      destination: [CGIExposure.arrtype, CGIMosaic.arrtype]
  HVCBIAS:
    title: HV Clock Bias Voltage
    description: HV Clock Bias Voltage (V)
    type: number
    archive_catalog:
      datatype: float
      destination: [CGIExposure.hvcbias]
  OPMODE:
    title: EXCAM readout operational mode
    description: EXCAM readout operational mode
    type: string
    maxLength: 50
    enum:
      - NONE_DETON_0
      - ACQUIRE_SCIENCE
      - LOWFSC_STRSH
      - TRAP_PUMPING
      - ENGINEERING_EM
      - ENGINEERING_CONV
      - SPARE_1
      - SPARE_2
      - SPARE_3
      - SPARE_4
      - SPARE_5
      - SPARE_6
      - SPARE_7
      - SPARE_8
      - SPARE_9
      - NONE_DETON_15
    archive_catalog:
      datatype: nvarchar(50)
      destination: [CGIExposure.opmode]
  MJDSTART: # SOC Proposed
    title: Start Time MJD
    description: Observation start time in MJD
    type: number
    archive_catalog:
      datatype: float
      destination:
        [CGIExposure.visit_start_time_mjd, CGIMosaic.visit_start_time_mjd]
  MJDEND: # SOC Proposed
    title: End Time MJD
    description: Observation end time in MJD
    type: number
    archive_catalog:
      datatype: float
      destination:
        [CGIExposure.visit_end_time_mjd, CGIMosaic.visit_end_time_mjd]

required:
  [
    EXPTIME,
    ARRTYPE,
    HVCBIAS,
    EMGAIN_C,
    EMGAIN_A,
    KGAINPAR,
    CYCLES,
    ISPC,
    FTIMEUTC,
    OPMODE,
    MJDSTART,
    MJDEND,
  ]
